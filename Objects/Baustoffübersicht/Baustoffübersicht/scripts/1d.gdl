!--- Master script ---!dict bmat  ! globalgoto 999! --------------------------------------------------------------------------- !100:    ! We do this little trick to save us from doing double writing.    consid = 1  ! consecutive id used as index for bmat array    for i=1 to max_id        ! Check the BMat at the current index        ! "Brutforcing" to get a list of all BMats        r = request ("Name_of_building_material", i, bm_name)        if bm_name # "" then            ! BMat exists            bmat.name[consid] = bm_name            ! get the real Index            r = request{2} ("Building_Material_info", bm_name, "gs_bmat_id", real_id)            bmat.real_id[consid] = real_id            ! get the appearance            r = request{2} ("Building_Material_info", bm_name, "gs_bmat_cutFill_properties", bm_fill, bm_fill_fg, bm_fill_bg)            bmat.style.fill[consid] = bm_fill            bmat.style.pen[consid] = bm_fill_fg            bmat.style.pen_bg[consid] = bm_fill_bg                        ! 3D surface            r = request{2} ("Building_Material_info", bm_name, "gs_bmat_surface", bm_surf)            bmat.style.srf[consid] = bm_surf            consid = consid+1        endif    next ireturn999:! END --- END --- END !